# MoralClaims Plugin

Плагин для Paper 1.21.4, реализующий систему "моральных" приватов с голограммами и Telegram уведомлениями.

**Автор:** bUmmy1337  
**Сайт проекта, Для которого создавалось:** https://catshade.ru

## Особенности

- **Моральные приваты**: Вместо обычных приватов показываются голограммы с сообщениями
- **Выделение территории**: Используйте кисточку археолога для выделения прямоугольных областей
- **Визуализация границ**: При нарушении красными частицами выделяется весь периметр привата на 10 секунд
- **Умные частицы**: Эффект идет по блокам земли, не проходит сквозь стены
- **Умные уведомления**: Группировка повторяющихся действий с счетчиками (x1, x2, x3...)
- **Telegram уведомления**: Получайте уведомления о действиях в ваших приватах
- **Настраиваемые сообщения**: Разные рандомные сообщения для разных действий
- **Гибкие лимиты**: Настройка максимальной площади и размеров приватов

## Как создать приват

1. Скрафтите кисточку археолога (палка + перо + медный слиток)
2. Переименуйте её в наковальне на "Инструмент привата"
3. Левый клик по блоку - установить первую точку
4. Правый клик по блоку - установить вторую точку
5. Выполните команду `/claim` для создания привата
6. При необходимости очистите выделение: `/clearselection`

## Команды

- `/claim` - Создать приват из выделенной области
- `/unclaim` - Удалить приват в текущем месте
- `/claimlist` - Список ваших приватов
- `/claimtrust <игрок>` - Добавить игрока в приват
- `/claimuntrust <игрок>` - Удалить игрока из привата
- `/clearselection` - Очистить текущее выделение
- `/telegram` - Привязать/отвязать Telegram аккаунт

## Права доступа

- `moralclaims.claim` - Создание и удаление приватов
- `moralclaims.unclaim` - Удаление приватов
- `moralclaims.list` - Просмотр списка приватов
- `moralclaims.trust` - Управление участниками приватов
- `moralclaims.telegram` - Привязка Telegram
- `moralclaims.admin` - Административные права

## Настройка

1. Скомпилируйте плагин: `./gradlew build`
2. Поместите JAR файл в папку `plugins/`
3. Перезапустите сервер
4. Настройте `config.yml`:
   - Добавьте токен Telegram бота
   - Настройте лимиты приватов
   - Измените сообщения по желанию

## Настройка Telegram бота

1. Создайте бота через @BotFather
2. Получите токен и username бота
3. Добавьте их в `config.yml`
4. Перезапустите сервер
5. Игроки могут привязать аккаунты командой `/telegram`

## Сборка

```bash
./gradlew clean build
```

Готовый JAR файл будет в папке `build/libs/MoralClaims-1.0.0.jar`

## Установка

1. Скомпилируйте плагин командой `./gradlew clean build`
2. Скопируйте файл `build/libs/MoralClaims-1.0.0.jar` в папку `plugins/` вашего сервера
3. Перезапустите сервер
4. Настройте `plugins/MoralClaims/config.yml`:
   - Добавьте токен и username Telegram бота
   - Настройте лимиты приватов по желанию
   - Измените сообщения голограмм
   - Настройте задержку группировки уведомлений (`group_delay_seconds`)
5. Перезапустите сервер или выполните `/reload`

## Требования

- Paper 1.21.4
- Java 21+
- Доступ к интернету для Telegram бота (опционально)

## Особенности сборки

- Все зависимости (Telegram API, Jackson) включены в JAR файл
- Не требует дополнительных библиотек на сервере
- Размер итогового файла: ~11.5 МБ
