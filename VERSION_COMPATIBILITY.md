# MoralClaims - Поддержка версий Minecraft

## Поддерживаемые версии
Плагин поддерживает Minecraft версии **1.16 - 1.21.5** в одном JAR файле.

## Система адаптации версий

### Автоматическое определение версии
Плагин автоматически определяет версию сервера при запуске и адаптирует свое поведение:

```
[INFO] Detected Minecraft version: V1_16
[INFO] Detected Minecraft version: V1_21
```

### Адаптеры версий

#### MaterialAdapter
- **1.16-1.19**: Использует золотую лопату как инструмент выделения
- **1.20+**: Использует кисточку археолога как инструмент выделения
- Автоматическая проверка интерактивных блоков для всех версий

#### ParticleAdapter  
- **1.16**: Использует VILLAGER_HAPPY для выделения, REDSTONE для границ
- **1.17+**: Использует HAPPY_VILLAGER для выделения, DUST с цветом для границ
- Автоматический fallback на доступные частицы

#### SoundAdapter
- Автоматический выбор звуков в зависимости от доступности в версии
- Fallback на старые названия звуков для совместимости

### Особенности по версиям

#### Minecraft 1.16-1.17
- Инструмент выделения: Золотая лопата
- Частицы: VILLAGER_HAPPY, REDSTONE
- Звуки: Старые названия (CLICK, ORB_PICKUP)

#### Minecraft 1.18-1.19  
- Инструмент выделения: Золотая лопата
- Частицы: HAPPY_VILLAGER, DUST (если доступно)
- Звуки: Смешанные названия

#### Minecraft 1.20+
- Инструмент выделения: Кисточка археолога (BRUSH)
- Частицы: HAPPY_VILLAGER, DUST с DustOptions
- Звуки: Новые названия (UI_BUTTON_CLICK, ENTITY_EXPERIENCE_ORB_PICKUP)

## Команды

### /claimtool
Выдает инструмент выделения территории, адаптированн��й под версию сервера:
- **1.16-1.19**: Золотая лопата с названием "Инструмент привата"
- **1.20+**: Кисточка археолога с названием "Инструмент привата"

## Технические детали

### Компиляция
- Целевая версия Java: 8 (для совместимости)
- API: Spigot 1.16.5 (базовая совместимость)
- Сборка: Gradle с поддержкой всех зависимостей в JAR

### Безопасность версий
Все версионно-зависимые вызовы обернуты в try-catch блоки с fallback механизмами:

```java
try {
    // Попытка использовать новый API
    player.spawnParticle(Particle.HAPPY_VILLAGER, location, 1);
} catch (Exception e) {
    // Fallback на старый API
    player.spawnParticle(Particle.VILLAGER_HAPPY, location, 1);
}
```

## Установка
1. Скачайте MoralClaims-1.0.0.jar
2. Поместите в папку plugins вашего сервера (1.16-1.21.5)
3. Перезапустите сервер
4. Плагин автоматически определит версию и настроится

## Логи запуска
При запуске плагин выводит информацию о определенной версии:
```
[INFO] Detected Minecraft version: V1_20
[INFO] MoralClaims plugin enabled!
```

Это подтверждает корректную работу системы адаптации версий.